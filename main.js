(()=>{"use strict";var t={};t.p="";const e=t.p+"5a1e598009f15d026f1a.png",s=t.p+"d75f0823d07c794e774f.png",i=t.p+"60e429c59af06ce3776f.png",n=t.p+"47acb29421a267d1fc87.png",r=t.p+"91c33c5e92f2e8d07639.png";class a{constructor(t){this.parentEl=t,this.onSubmit=this.onSubmit.bind(this)}static get makup(){return`\n        <form class="card">\n          <div class="payment-system">\n            <div class="img-disable" id="Visa"><img src="${e}" alt=""></div>\n            <div class="img-disable" id="MasterCard"><img src="${s}" alt=""></div>\n            <div class="img-disable" id="AmericanExpress"><img src="${i}" alt=""></div>\n            <div class="img-disable" id="Mir"><img src="${n}" alt=""></div>\n            <div class="img-disable" id="Discover"><img src="${r}" alt=""></div>\n          </div>\n        <input class="card-number" type="text">\n        <button class="submit">Click to Validate</button>\n        </form>\n        `}static get submitSelector(){return".submit"}static get inputSelector(){return".card-number"}static get selector(){return".card"}bindToDom(){this.parentEl.innerHTML=a.makup,this.element=this.parentEl.querySelector(a.selector),this.submit=this.element.querySelector(a.submitSelector),this.input=this.element.querySelector(a.inputSelector),this.element.addEventListener("submit",this.onSubmit)}onSubmit(t){t.preventDefault();const e=this.input.value;if(function(t){const e=t.toString().split("").map(Number);let s=0;const i=e.length%2;for(let t=0;t<e.length-1;t++)t%2!==i?s+=e[t]:e[t]>4?s+=2*e[t]-9:s+=2*e[t];return e[e.length-1]===(10-s%10)%10}(e)){const t=function(t){const e=t.toString();return/^4/.test(e)?"Visa":/^5[1-5]/.test(e)?"MasterCard":/^3[47]/.test(e)?"AmericanExpress":/^2/.test(e)?"Mir":/^6(?:011|5)/.test(e)?"Discover":"Unknown"}(e);this.resetCardImages(),this.selectCardImg(t),alert("Платежная система:"+t)}else alert("Не корректный номер карты")}resetCardImages(){this.element.querySelectorAll(".payment-system div").forEach((t=>{t.classList.add("img-disable"),t.classList.remove("img-active")}))}selectCardImg(t){const e=this.element.querySelector("#"+t);e.classList.add("img-active"),e.classList.remove("img-disable")}}document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".container");new a(t).bindToDom()}))})();